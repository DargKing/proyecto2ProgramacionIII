/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package vistas;

import java.util.ArrayList;
import javax.swing.JOptionPane;
import modelos.BaseDeDatos;
import modelos.Cita;
import modelos.Factura;
import modelos.Paciente;
import vistas.componentes.FacturaCarta;
import vistas.componentes.ShowAlert;

/**
 *
 * @author yorman
 */
public class VerInformeMedico extends javax.swing.JPanel {

    BaseDeDatos database;
    
    /**
     * Creates new form VerInformeMedico
     */
    public VerInformeMedico(VentanaPrincipal ventana) {
        initComponents();
        
        this.database = ventana.getDatabase();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        containerInformacionPaciente = new javax.swing.JPanel();
        panelNombre = new javax.swing.JPanel();
        tituloNombre = new javax.swing.JLabel();
        labelNombre = new javax.swing.JLabel();
        separadorNombre = new javax.swing.JSeparator();
        panelDireccion = new javax.swing.JPanel();
        tituloDireccion = new javax.swing.JLabel();
        labelDireccion = new javax.swing.JLabel();
        separadorDireccion = new javax.swing.JSeparator();
        panelCedula = new javax.swing.JPanel();
        tituloCedula = new javax.swing.JLabel();
        cedula = new javax.swing.JTextField();
        panelEdad = new javax.swing.JPanel();
        tituloEdad = new javax.swing.JLabel();
        labelEdad = new javax.swing.JLabel();
        separadorEdad = new javax.swing.JSeparator();
        panelTelefono = new javax.swing.JPanel();
        tituloTelefono = new javax.swing.JLabel();
        labelTelefono = new javax.swing.JLabel();
        separadorTelefono = new javax.swing.JSeparator();
        jSeparator1 = new javax.swing.JSeparator();
        panelCita = new javax.swing.JPanel();
        tituloIdCita = new javax.swing.JLabel();
        idCita = new javax.swing.JComboBox<>();
        contenedorInforme = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        razon = new javax.swing.JTextArea();
        jScrollPane2 = new javax.swing.JScrollPane();
        examenOcular = new javax.swing.JTextArea();
        jLabel2 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        medicamentos = new javax.swing.JTextArea();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tratamiento = new javax.swing.JTextArea();
        jScrollPane5 = new javax.swing.JScrollPane();
        diagnostico = new javax.swing.JTextArea();
        jLabel5 = new javax.swing.JLabel();

        containerInformacionPaciente.setBackground(new java.awt.Color(204, 239, 255));

        panelNombre.setBackground(new java.awt.Color(204, 239, 255));

        tituloNombre.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloNombre.setText("Nombre:");

        labelNombre.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelNombre.setText(" ");
        labelNombre.setToolTipText("");

        separadorNombre.setForeground(new java.awt.Color(51, 51, 51));

        javax.swing.GroupLayout panelNombreLayout = new javax.swing.GroupLayout(panelNombre);
        panelNombre.setLayout(panelNombreLayout);
        panelNombreLayout.setHorizontalGroup(
            panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelNombreLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addGroup(panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(tituloNombre)
                    .addComponent(labelNombre, javax.swing.GroupLayout.DEFAULT_SIZE, 200, Short.MAX_VALUE)
                    .addComponent(separadorNombre))
                .addGap(0, 0, 0))
        );
        panelNombreLayout.setVerticalGroup(
            panelNombreLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelNombreLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloNombre)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(labelNombre)
                .addGap(2, 2, 2)
                .addComponent(separadorNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0))
        );

        panelDireccion.setBackground(new java.awt.Color(204, 239, 255));

        tituloDireccion.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloDireccion.setText("Direccion:");

        labelDireccion.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelDireccion.setText(" ");

        separadorDireccion.setForeground(new java.awt.Color(102, 102, 102));

        javax.swing.GroupLayout panelDireccionLayout = new javax.swing.GroupLayout(panelDireccion);
        panelDireccion.setLayout(panelDireccionLayout);
        panelDireccionLayout.setHorizontalGroup(
            panelDireccionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDireccionLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addGroup(panelDireccionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(separadorDireccion)
                    .addComponent(tituloDireccion)
                    .addComponent(labelDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, 435, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 0, 0))
        );
        panelDireccionLayout.setVerticalGroup(
            panelDireccionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDireccionLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloDireccion)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(labelDireccion)
                .addGap(2, 2, 2)
                .addComponent(separadorDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0))
        );

        panelCedula.setBackground(new java.awt.Color(204, 239, 255));

        tituloCedula.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloCedula.setText("Cedula:");

        cedula.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        cedula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cedulaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panelCedulaLayout = new javax.swing.GroupLayout(panelCedula);
        panelCedula.setLayout(panelCedulaLayout);
        panelCedulaLayout.setHorizontalGroup(
            panelCedulaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCedulaLayout.createSequentialGroup()
                .addGroup(panelCedulaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tituloCedula)
                    .addComponent(cedula, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelCedulaLayout.setVerticalGroup(
            panelCedulaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCedulaLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloCedula)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(cedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        panelEdad.setBackground(new java.awt.Color(204, 239, 255));

        tituloEdad.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloEdad.setText("Edad:");

        labelEdad.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelEdad.setText(" ");
        labelEdad.setToolTipText("");

        javax.swing.GroupLayout panelEdadLayout = new javax.swing.GroupLayout(panelEdad);
        panelEdad.setLayout(panelEdadLayout);
        panelEdadLayout.setHorizontalGroup(
            panelEdadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelEdadLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addGroup(panelEdadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(labelEdad, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(tituloEdad, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(separadorEdad))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelEdadLayout.setVerticalGroup(
            panelEdadLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelEdadLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloEdad)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(labelEdad)
                .addGap(2, 2, 2)
                .addComponent(separadorEdad, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0))
        );

        panelTelefono.setBackground(new java.awt.Color(204, 239, 255));

        tituloTelefono.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloTelefono.setText("Telefono:");

        labelTelefono.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelTelefono.setText(" ");
        labelTelefono.setToolTipText("");

        separadorTelefono.setForeground(new java.awt.Color(51, 51, 51));

        javax.swing.GroupLayout panelTelefonoLayout = new javax.swing.GroupLayout(panelTelefono);
        panelTelefono.setLayout(panelTelefonoLayout);
        panelTelefonoLayout.setHorizontalGroup(
            panelTelefonoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelTelefonoLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addGroup(panelTelefonoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tituloTelefono)
                    .addComponent(labelTelefono)
                    .addComponent(separadorTelefono, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(30, Short.MAX_VALUE))
        );
        panelTelefonoLayout.setVerticalGroup(
            panelTelefonoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelTelefonoLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloTelefono)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(labelTelefono)
                .addGap(2, 2, 2)
                .addComponent(separadorTelefono, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0))
        );

        jSeparator1.setForeground(new java.awt.Color(51, 51, 51));

        panelCita.setBackground(new java.awt.Color(204, 239, 255));

        tituloIdCita.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        tituloIdCita.setText("ID Cita");

        idCita.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        idCita.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                idCitaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panelCitaLayout = new javax.swing.GroupLayout(panelCita);
        panelCita.setLayout(panelCitaLayout);
        panelCitaLayout.setHorizontalGroup(
            panelCitaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCitaLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addGroup(panelCitaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tituloIdCita)
                    .addComponent(idCita, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(67, Short.MAX_VALUE))
        );
        panelCitaLayout.setVerticalGroup(
            panelCitaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCitaLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(tituloIdCita)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(idCita, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout containerInformacionPacienteLayout = new javax.swing.GroupLayout(containerInformacionPaciente);
        containerInformacionPaciente.setLayout(containerInformacionPacienteLayout);
        containerInformacionPacienteLayout.setHorizontalGroup(
            containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, containerInformacionPacienteLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jSeparator1)
                .addContainerGap())
            .addGroup(containerInformacionPacienteLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addGroup(containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panelCedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(panelCita, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(49, 49, 49)
                .addGroup(containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(containerInformacionPacienteLayout.createSequentialGroup()
                        .addComponent(panelTelefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(51, 51, 51)
                        .addComponent(panelEdad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(containerInformacionPacienteLayout.createSequentialGroup()
                        .addComponent(panelNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(panelDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(50, 50, 50))))
        );
        containerInformacionPacienteLayout.setVerticalGroup(
            containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(containerInformacionPacienteLayout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panelDireccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(panelCedula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(panelNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 20, Short.MAX_VALUE)
                .addGroup(containerInformacionPacienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panelEdad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(panelTelefono, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(panelCita, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        contenedorInforme.setBackground(new java.awt.Color(204, 239, 255));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel1.setText("Razon");

        razon.setEditable(false);
        razon.setColumns(20);
        razon.setFont(new java.awt.Font("Monospaced", 0, 14)); // NOI18N
        razon.setRows(5);
        jScrollPane1.setViewportView(razon);

        examenOcular.setEditable(false);
        examenOcular.setColumns(20);
        examenOcular.setFont(new java.awt.Font("Monospaced", 0, 14)); // NOI18N
        examenOcular.setRows(5);
        jScrollPane2.setViewportView(examenOcular);

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel2.setText("Examen Ocular");

        medicamentos.setEditable(false);
        medicamentos.setColumns(20);
        medicamentos.setFont(new java.awt.Font("Monospaced", 0, 14)); // NOI18N
        medicamentos.setRows(5);
        jScrollPane3.setViewportView(medicamentos);

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel3.setText("Medicamentos");

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel4.setText("Tratamiento");

        tratamiento.setEditable(false);
        tratamiento.setColumns(20);
        tratamiento.setFont(new java.awt.Font("Monospaced", 0, 14)); // NOI18N
        tratamiento.setRows(5);
        jScrollPane4.setViewportView(tratamiento);

        diagnostico.setEditable(false);
        diagnostico.setColumns(20);
        diagnostico.setFont(new java.awt.Font("Monospaced", 0, 14)); // NOI18N
        diagnostico.setRows(5);
        jScrollPane5.setViewportView(diagnostico);

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel5.setText("Diagnostico");

        javax.swing.GroupLayout contenedorInformeLayout = new javax.swing.GroupLayout(contenedorInforme);
        contenedorInforme.setLayout(contenedorInformeLayout);
        contenedorInformeLayout.setHorizontalGroup(
            contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(contenedorInformeLayout.createSequentialGroup()
                .addGap(46, 46, 46)
                .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jScrollPane2)
                    .addComponent(jLabel2)
                    .addComponent(jLabel1)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 356, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 356, Short.MAX_VALUE)
                        .addComponent(jLabel3))
                    .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 356, Short.MAX_VALUE)
                        .addComponent(jLabel4)))
                .addGap(79, 79, 79))
            .addGroup(contenedorInformeLayout.createSequentialGroup()
                .addGap(210, 210, 210)
                .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 440, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        contenedorInformeLayout.setVerticalGroup(
            contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(contenedorInformeLayout.createSequentialGroup()
                .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(contenedorInformeLayout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(contenedorInformeLayout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(16, 16, 16)
                .addGroup(contenedorInformeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(contenedorInformeLayout.createSequentialGroup()
                        .addComponent(jLabel4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(contenedorInformeLayout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(154, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(containerInformacionPaciente, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(contenedorInforme, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(containerInformacionPaciente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addComponent(contenedorInforme, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents

    private void cedulaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cedulaActionPerformed
        ArrayList<Paciente> pacientes = database.getPacientes();

        for (Paciente paciente : pacientes) {
            if (paciente.getCedula().equals(this.cedula.getText())) {
                this.cedula.setFocusable(false);
                this.cedula.setFocusable(true);

                this.labelNombre.setText(paciente.getNombre());
                this.labelDireccion.setText(paciente.getDireccion());
                this.labelEdad.setText(Integer.toString(paciente.getEdad()));
                this.labelTelefono.setText(paciente.getTelefono());

                ArrayList<Factura> facturas = this.database.getFacturas();
                ArrayList<Cita> citas = this.database.getCitas();

                ArrayList<Factura> facturasPaciente = new ArrayList<>();

                int[] idCitasPrevias = paciente.getHistorial().getIdCitasPrevias();

                ArrayList<Cita> citasDelPaciente = new ArrayList<>();

                for (int idCitaPrevia: idCitasPrevias) {
                    for(Cita cita: citas){
                        if(cita.getId() == idCitaPrevia){
                            citasDelPaciente.add(cita);
                        }
                    }
                }

                this.idCita.removeAllItems();

                for (Cita cita : citas) {
                    if (cita.getIdPaciente() == paciente.getId() && !cita.isCompletada()) {
                        citasDelPaciente.add(cita);
                    }
                }
                
                if(citasDelPaciente.isEmpty()){
                    ShowAlert alerta = new ShowAlert("Error", "El paciente seleccionado no tiene citas", JOptionPane.ERROR_MESSAGE);
                    return;
                }
                
                for(Cita cita: citasDelPaciente){
                    this.idCita.addItem(Integer.toString(cita.getId()));
                }
                
                return;
            }
        }
    }//GEN-LAST:event_cedulaActionPerformed

    private void idCitaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_idCitaActionPerformed
        // TODO add your handling code here:
        try {
            int idCita = Integer.parseInt(this.idCita.getItemAt(this.idCita.getSelectedIndex()));

            ArrayList<Cita> citas = this.database.getCitas();

            for (Cita cita : citas) {
                if (cita.getId() == idCita) {
                    this.razon.setText(cita.getRazon());
                    this.diagnostico.setText(cita.getInformeDeCita().getDignostico());
                    this.examenOcular.setText(cita.getInformeDeCita().getExamenOcular());
                    this.medicamentos.setText(cita.getInformeDeCita().getMedicamentos());
                    this.tratamiento.setText(cita.getInformeDeCita().getTratamiento());
                    break;
                }
            }
        } catch(Exception err){
            this.razon.setText("");
            this.diagnostico.setText("");
            this.examenOcular.setText("");
            this.medicamentos.setText("");
            this.tratamiento.setText("");
            if(this.cedula.getText().isEmpty()){
                ShowAlert alerta = new ShowAlert("Error", "El id de la cita no es valido", JOptionPane.ERROR_MESSAGE);
            }
            
        }
    }//GEN-LAST:event_idCitaActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField cedula;
    private javax.swing.JPanel containerInformacionPaciente;
    private javax.swing.JPanel contenedorInforme;
    private javax.swing.JTextArea diagnostico;
    private javax.swing.JTextArea examenOcular;
    private javax.swing.JComboBox<String> idCita;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JLabel labelDireccion;
    private javax.swing.JLabel labelEdad;
    private javax.swing.JLabel labelNombre;
    private javax.swing.JLabel labelTelefono;
    private javax.swing.JTextArea medicamentos;
    private javax.swing.JPanel panelCedula;
    private javax.swing.JPanel panelCita;
    private javax.swing.JPanel panelDireccion;
    private javax.swing.JPanel panelEdad;
    private javax.swing.JPanel panelNombre;
    private javax.swing.JPanel panelTelefono;
    private javax.swing.JTextArea razon;
    private javax.swing.JSeparator separadorDireccion;
    private javax.swing.JSeparator separadorEdad;
    private javax.swing.JSeparator separadorNombre;
    private javax.swing.JSeparator separadorTelefono;
    private javax.swing.JLabel tituloCedula;
    private javax.swing.JLabel tituloDireccion;
    private javax.swing.JLabel tituloEdad;
    private javax.swing.JLabel tituloIdCita;
    private javax.swing.JLabel tituloNombre;
    private javax.swing.JLabel tituloTelefono;
    private javax.swing.JTextArea tratamiento;
    // End of variables declaration//GEN-END:variables
}
